"""
These rules will trim sequencing reads and produce a fastqc output if required

The inputs are:
    - raw Illumina sequencing reads
The outputs are:
    - cleaned Illumina sequencing reads
    - a fastqc report if requested
"""

rule trimmomatic:
    input:
        "data/{sample}.fastq",
    output:
        "trim/{sample}.trimmed.fastq"
    log:
        "logs/trimmomatic/{sample}.log"
    params:
        qual = config["trimmomatic_quality"],
        adapters = config["trimmomatic_adapters"]
    shell:
        "trimmomatic SE {input} {output} ILLUMINACLIP:{params.adapters}:2:30:10 "
        "LEADING:3 TRAILING:3 SLIDINGWINDOW:4:{params.qual} MINLEN:75 2> {log}"

